---
title: "Slacké€£æº"
description: "Slackã§çŒ®ç«‹ã‚’å®¶æ—ã¨å…±æœ‰ã—ã€ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å††æ»‘ã«"
---

## æ¦‚è¦

Slacké€£æºã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ç”Ÿæˆã•ã‚ŒãŸçŒ®ç«‹ã‚„è²·ã„ç‰©ãƒªã‚¹ãƒˆã‚’è‡ªå‹•çš„ã«Slackãƒãƒ£ãƒ³ãƒãƒ«ã«æŠ•ç¨¿ã§ãã¾ã™ã€‚å®¶æ—ã‚„ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã¨ç°¡å˜ã«çŒ®ç«‹ã‚’å…±æœ‰ã—ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

<img src="/images/slack-integration.png" alt="Slacké€£æºã®ä¾‹" />

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

<Steps>
  <Step title="Slackã‚¢ãƒ—ãƒªã‚’ä½œæˆ">
    [Slack API](https://api.slack.com/apps)ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€æ–°ã—ã„ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã™ã€‚
    
    1. "Create New App" ã‚’ã‚¯ãƒªãƒƒã‚¯
    2. "From scratch" ã‚’é¸æŠ
    3. ã‚¢ãƒ—ãƒªåã‚’å…¥åŠ›ï¼ˆä¾‹: MealPlan AIï¼‰
    4. ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚’é¸æŠ
  </Step>
  
  <Step title="æ¨©é™ã‚’è¨­å®š">
    OAuth & Permissionsç”»é¢ã§ã€ä»¥ä¸‹ã®ã‚¹ã‚³ãƒ¼ãƒ—ã‚’è¿½åŠ ã—ã¾ã™ï¼š
    
    - `chat:write` - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æŠ•ç¨¿
    - `chat:write.public` - ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒãƒ£ãƒ³ãƒãƒ«ã«æŠ•ç¨¿
    - `files:write` - ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
    
    <img src="/images/slack-scopes.png" alt="Slackã‚¹ã‚³ãƒ¼ãƒ—è¨­å®š" />
  </Step>
  
  <Step title="ã‚¢ãƒ—ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«">
    "Install to Workspace" ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ã‚¢ãƒ—ãƒªã‚’ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚
    
    ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã€Bot User OAuth TokenãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã“ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä¿å­˜ã—ã¦ãã ã•ã„ã€‚
  </Step>
  
  <Step title="MealPlan AIã¨é€£æº">
    MealPlan AIãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®çµ±åˆè¨­å®šã§ã€Slackãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™»éŒ²ã—ã¾ã™ã€‚
    
    ```bash
    curl -X POST https://api.mealplan-ai.com/v1/integrations/slack \
      -H "Authorization: Bearer YOUR_API_KEY" \
      -H "Content-Type: application/json" \
      -d '{
        "slack_token": "xoxb-your-slack-token",
        "default_channel": "#meal-planning"
      }'
    ```
  </Step>
</Steps>

## ä½¿ç”¨æ–¹æ³•

### çŒ®ç«‹ã‚’æŠ•ç¨¿

çŒ®ç«‹ç”Ÿæˆæ™‚ã«è‡ªå‹•çš„ã«Slackã«æŠ•ç¨¿ã™ã‚‹ã‚ˆã†è¨­å®šã§ãã¾ã™ã€‚

```javascript
const response = await fetch('https://api.mealplan-ai.com/v1/meal-plans', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    duration_days: 7,
    family_profile_id: 'fp_abc123',
    integrations: {
      slack: {
        enabled: true,
        channel: '#meal-planning',
        notify_users: ['@user1', '@user2']
      }
    }
  })
});
```

### æŠ•ç¨¿ã•ã‚Œã‚‹å†…å®¹

Slackã«ã¯ä»¥ä¸‹ã®æƒ…å ±ãŒæŠ•ç¨¿ã•ã‚Œã¾ã™ï¼š

```
ğŸ½ï¸ ä»Šé€±ã®çŒ®ç«‹ãŒå®Œæˆã—ã¾ã—ãŸï¼

ğŸ“… æœŸé–“: 2024å¹´1æœˆ15æ—¥ ã€œ 1æœˆ21æ—¥

ã€æœˆæ›œæ—¥ã€‘
ğŸŒ… æœé£Ÿ: å’Œé¢¨ãƒˆãƒ¼ã‚¹ãƒˆã€ãƒ¨ãƒ¼ã‚°ãƒ«ãƒˆ
ğŸŒ æ˜¼é£Ÿ: é¶è‚‰ã®ç…§ã‚Šç„¼ãä¸¼
ğŸŒ™ å¤•é£Ÿ: ã‚µãƒ¼ãƒ¢ãƒ³ã®ãƒ ãƒ‹ã‚¨ãƒ«ã€é‡èœã‚µãƒ©ãƒ€

ã€ç«æ›œæ—¥ã€‘
...

ğŸ›’ è²·ã„ç‰©ãƒªã‚¹ãƒˆ: https://app.mealplan-ai.com/shopping/sl_xyz789
ğŸ“Š æ „é¤Šãƒãƒ©ãƒ³ã‚¹: https://app.mealplan-ai.com/nutrition/mp_abc123
```

## é«˜åº¦ãªä½¿ç”¨ä¾‹

### ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

Block Kitã‚’ä½¿ç”¨ã—ã¦ãƒªãƒƒãƒãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆã§ãã¾ã™ã€‚

```javascript
const slackMessage = {
  blocks: [
    {
      type: "header",
      text: {
        type: "plain_text",
        text: "ğŸ½ï¸ ä»Šé€±ã®çŒ®ç«‹"
      }
    },
    {
      type: "section",
      text: {
        type: "mrkdwn",
        text: "*æœŸé–“:* 2024å¹´1æœˆ15æ—¥ ã€œ 1æœˆ21æ—¥"
      }
    },
    {
      type: "divider"
    },
    {
      type: "section",
      fields: [
        {
          type: "mrkdwn",
          text: "*æœˆæ›œæ—¥*\næœ: å’Œé¢¨ãƒˆãƒ¼ã‚¹ãƒˆ\næ˜¼: ç…§ã‚Šç„¼ãä¸¼\nå¤•: ã‚µãƒ¼ãƒ¢ãƒ³ãƒ ãƒ‹ã‚¨ãƒ«"
        },
        {
          type: "mrkdwn",
          text: "*ç«æ›œæ—¥*\næœ: ãƒ•ãƒ¬ãƒ³ãƒãƒˆãƒ¼ã‚¹ãƒˆ\næ˜¼: ãƒ‘ã‚¹ã‚¿\nå¤•: è±šã®ç”Ÿå§œç„¼ã"
        }
      ]
    },
    {
      type: "actions",
      elements: [
        {
          type: "button",
          text: {
            type: "plain_text",
            text: "è²·ã„ç‰©ãƒªã‚¹ãƒˆã‚’è¦‹ã‚‹"
          },
          url: "https://app.mealplan-ai.com/shopping/sl_xyz789"
        },
        {
          type: "button",
          text: {
            type: "plain_text",
            text: "æ „é¤Šãƒãƒ©ãƒ³ã‚¹ã‚’ç¢ºèª"
          },
          url: "https://app.mealplan-ai.com/nutrition/mp_abc123"
        }
      ]
    }
  ]
};

// Slackã«æŠ•ç¨¿
await fetch('https://slack.com/api/chat.postMessage', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${SLACK_TOKEN}`,
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    channel: '#meal-planning',
    ...slackMessage
  })
});
```

### ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªæŠ•ç¥¨

å®¶æ—ã«çŒ®ç«‹ã®å¥½ã¿ã‚’èãã“ã¨ãŒã§ãã¾ã™ã€‚

```javascript
const pollMessage = {
  blocks: [
    {
      type: "section",
      text: {
        type: "mrkdwn",
        text: "ä»Šé€±ã®çŒ®ç«‹æ¡ˆãŒã§ãã¾ã—ãŸï¼ã©ã¡ã‚‰ãŒã„ã„ã§ã™ã‹ï¼Ÿ"
      }
    },
    {
      type: "actions",
      elements: [
        {
          type: "button",
          text: {
            type: "plain_text",
            text: "ğŸ‘ æ¡ˆA: å’Œé£Ÿä¸­å¿ƒ"
          },
          value: "plan_a",
          action_id: "vote_plan_a"
        },
        {
          type: "button",
          text: {
            type: "plain_text",
            text: "ğŸ‘ æ¡ˆB: æ´‹é£Ÿä¸­å¿ƒ"
          },
          value: "plan_b",
          action_id: "vote_plan_b"
        }
      ]
    }
  ]
};
```

### è²·ã„ç‰©ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼

è²·ã„ç‰©ã®æ—¥ã«ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼ã‚’é€ä¿¡ã—ã¾ã™ã€‚

```javascript
// æ¯é€±åœŸæ›œæ—¥ã®æœ9æ™‚ã«å®Ÿè¡Œ
async function sendShoppingReminder() {
  const shoppingList = await getShoppingList();
  
  await fetch('https://slack.com/api/chat.postMessage', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${SLACK_TOKEN}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      channel: '#meal-planning',
      text: 'ğŸ›’ ä»Šæ—¥ã¯è²·ã„ç‰©ã®æ—¥ã§ã™ï¼',
      blocks: [
        {
          type: "section",
          text: {
            type: "mrkdwn",
            text: "*ğŸ›’ ä»Šæ—¥ã¯è²·ã„ç‰©ã®æ—¥ã§ã™ï¼*\n\nä»Šé€±ã®è²·ã„ç‰©ãƒªã‚¹ãƒˆï¼ˆå…¨25å“ï¼‰ï¼š"
          }
        },
        {
          type: "section",
          text: {
            type: "mrkdwn",
            text: shoppingList.items.slice(0, 10).map(item => 
              `â€¢ ${item.name} (${item.quantity})`
            ).join('\n')
          }
        },
        {
          type: "actions",
          elements: [
            {
              type: "button",
              text: {
                type: "plain_text",
                text: "å®Œå…¨ãªãƒªã‚¹ãƒˆã‚’è¦‹ã‚‹"
              },
              url: shoppingList.url
            }
          ]
        }
      ]
    })
  });
}
```

## Slashã‚³ãƒãƒ³ãƒ‰

Slackã‹ã‚‰ç›´æ¥çŒ®ç«‹ã‚’æ“ä½œã§ãã‚‹Slashã‚³ãƒãƒ³ãƒ‰ã‚’ä½œæˆã§ãã¾ã™ã€‚

### /mealplan ã‚³ãƒãƒ³ãƒ‰ã®è¨­å®š

1. Slack Appè¨­å®šã§ "Slash Commands" ã‚’é¸æŠ
2. "Create New Command" ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ã‚³ãƒãƒ³ãƒ‰ã‚’è¨­å®šï¼š
   - Command: `/mealplan`
   - Request URL: `https://your-app.com/slack/commands`
   - Short Description: "çŒ®ç«‹ã‚’ç®¡ç†"

### ã‚³ãƒãƒ³ãƒ‰ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã®å®Ÿè£…

```javascript
app.post('/slack/commands', async (req, res) => {
  const { text, user_id, channel_id } = req.body;
  
  // ã™ãã«å¿œç­”
  res.status(200).send();
  
  // ã‚³ãƒãƒ³ãƒ‰ã‚’å‡¦ç†
  const args = text.split(' ');
  const command = args[0];
  
  switch (command) {
    case 'generate':
      await generateMealPlan(user_id, channel_id);
      break;
    
    case 'shopping':
      await showShoppingList(user_id, channel_id);
      break;
    
    case 'today':
      await showTodaysMeals(user_id, channel_id);
      break;
    
    default:
      await showHelp(channel_id);
  }
});

async function generateMealPlan(userId, channelId) {
  // çŒ®ç«‹ã‚’ç”Ÿæˆ
  const mealPlan = await createMealPlan(userId);
  
  // Slackã«æŠ•ç¨¿
  await postToSlack(channelId, {
    text: 'çŒ®ç«‹ã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™...',
    blocks: [
      {
        type: "section",
        text: {
          type: "mrkdwn",
          text: "âœ… çŒ®ç«‹ã®ç”ŸæˆãŒå®Œäº†ã—ã¾ã—ãŸï¼"
        }
      }
    ]
  });
}
```

### ä½¿ç”¨ä¾‹

```
/mealplan generate - æ–°ã—ã„çŒ®ç«‹ã‚’ç”Ÿæˆ
/mealplan shopping - è²·ã„ç‰©ãƒªã‚¹ãƒˆã‚’è¡¨ç¤º
/mealplan today - ä»Šæ—¥ã®çŒ®ç«‹ã‚’è¡¨ç¤º
/mealplan help - ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º
```

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. é©åˆ‡ãªãƒãƒ£ãƒ³ãƒãƒ«ã‚’ä½¿ç”¨

å®¶æ—å°‚ç”¨ã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒ£ãƒ³ãƒãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚

```javascript
// ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒ£ãƒ³ãƒãƒ«ã«æŠ•ç¨¿
const config = {
  channel: '#family-meals', // ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒ£ãƒ³ãƒãƒ«
  notify_users: ['@dad', '@mom']
};
```

### 2. é€šçŸ¥ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°

çŒ®ç«‹ç”Ÿæˆå¾Œã™ãã«é€šçŸ¥ã™ã‚‹ã®ã§ã¯ãªãã€é©åˆ‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§é€šçŸ¥ã—ã¾ã™ã€‚

```javascript
// å¤•æ–¹6æ™‚ã«é€šçŸ¥
const scheduledTime = new Date();
scheduledTime.setHours(18, 0, 0);

await scheduleSlackMessage({
  channel: '#meal-planning',
  post_at: scheduledTime.getTime() / 1000,
  text: 'ä»Šé€±ã®çŒ®ç«‹ãŒå®Œæˆã—ã¾ã—ãŸï¼'
});
```

### 3. ãƒªãƒƒãƒãªãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

Block Kitã‚’ä½¿ç”¨ã—ã¦è¦‹ã‚„ã™ã„ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¾ã™ã€‚

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

<AccordionGroup>
  <Accordion title="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæŠ•ç¨¿ã•ã‚Œãªã„">
    - Slackãƒˆãƒ¼ã‚¯ãƒ³ãŒæ­£ã—ã„ã‹ç¢ºèª
    - ã‚¢ãƒ—ãƒªãŒãƒãƒ£ãƒ³ãƒãƒ«ã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
    - å¿…è¦ãªæ¨©é™ï¼ˆã‚¹ã‚³ãƒ¼ãƒ—ï¼‰ãŒä»˜ä¸ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
  </Accordion>
  
  <Accordion title="ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒãƒ£ãƒ³ãƒãƒ«ã«æŠ•ç¨¿ã§ããªã„">
    - ã‚¢ãƒ—ãƒªã‚’ãƒãƒ£ãƒ³ãƒãƒ«ã«æ‹›å¾…: `/invite @MealPlan AI`
    - `chat:write` ã‚¹ã‚³ãƒ¼ãƒ—ãŒä»˜ä¸ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
  </Accordion>
  
  <Accordion title="ç”»åƒãŒè¡¨ç¤ºã•ã‚Œãªã„">
    - ç”»åƒURLãŒå…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
    - HTTPSã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‹ç¢ºèª
    - ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒåˆ¶é™å†…ã‹ç¢ºèªï¼ˆæœ€å¤§10MBï¼‰
  </Accordion>
</AccordionGroup>

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

<CardGroup cols={2}>
  <Card title="Webhookçµ±åˆ" icon="webhook" href="/integrations/webhooks">
    ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥ã‚’å—ã‘å–ã‚‹
  </Card>
  <Card title="ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æº" icon="calendar" href="/integrations/calendar">
    çŒ®ç«‹ã‚’ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã«è¿½åŠ 
  </Card>
  <Card title="Slack API" icon="book" href="https://api.slack.com/docs">
    Slack APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
  </Card>
</CardGroup>